RewriteEngine On

# Définir la base de l'URL si nécessaire (à décommenter et ajuster si votre site est dans un sous-dossier)
# RewriteBase /

# Rediriger vers HTTPS (à décommenter en production)
# RewriteCond %{HTTPS} off
# RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Permettre l'accès direct aux fichiers existants
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.php [QSA,L]

# Bloquer l'affichage des répertoires
Options -Indexes

# Définir l'encodage par défaut
AddDefaultCharset UTF-8

# Définir le type MIME pour les fichiers JSON
AddType application/json .json

# Activer la compression GZIP
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css application/javascript application/json
</IfModule>

# Définir les en-têtes de cache pour les ressources statiques
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType image/jpg "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/gif "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/svg+xml "access plus 1 year"
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
</IfModule>
